# This file is auto-generated. See ci/generate-workflows.js
name: eslint-plugin-sonarjs

on:
  workflow_dispatch: # Manual triggers
  workflow_run:
    workflows:
      - Run all plugin workflows
    types:
      - completed
  schedule:
    # Every thursday at 11:00
    - cron: '0 11 * * THU'

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: actions/setup-node@v2.1.5
      with:
        node-version: 14
    - run: |
        yarn install
        yarn build
        rm -rf ./node_modules
    - run: |
        yarn install
        yarn list | grep eslint
        yarn log --config ./plugin-configs/eslint-plugin-sonarjs.config.js
      working-directory: ./ci
    - uses: AriPerkkio/eslint-remote-tester-run-action@v1
      with:
        working-directory: ./ci
        github-token: ${{ secrets.GITHUB_TOKEN }}
        issue-title: "Weekly scheduled smoke test: eslint-plugin-sonarjs"
        eslint-remote-tester-config: plugin-configs/eslint-plugin-sonarjs.config.js
